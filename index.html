<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Macro Calculator – Mifflin–St Jeor</title>
  <meta name="description" content="A clean, mobile‑friendly macro calculator based on the Mifflin–St Jeor equation." />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>Macro Calculator <span class="muted small">(Mifflin–St&nbsp;Jeor)</span></h1>
      <div class="chips">
        <span class="chip">BMR → TDEE → Target Calories</span>
        <span class="chip">Auto / Custom protein</span>
        <span class="chip">Local save</span>
      </div>
    </header>

    <div class="grid grid-2" id="app">
      <!-- INPUTS CARD -->
      <section class="card" aria-labelledby="inputsTitle">
        <h2 id="inputsTitle" class="sr-only">Inputs</h2>
        <div class="row row-2">
          <div>
            <label for="sex">Sex</label>
            <select id="sex">
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>
          <div>
            <label for="age">Age (years)</label>
            <input id="age" type="number" min="10" max="100" step="1" placeholder="25" />
          </div>
        </div>

        <div class="row row-3" style="margin-top:6px">
          <div>
            <label>Units</label>
            <div role="group" aria-label="Units" class="seg" id="unitToggle">
              <button type="button" data-unit="metric" aria-pressed="true">Metric</button>
              <button type="button" data-unit="imperial" aria-pressed="false">Imperial</button>
            </div>
          </div>
          <div>
            <label for="weight">Weight <span class="muted" id="wUnitLbl">(kg)</span></label>
            <input id="weight" type="number" min="20" max="400" step="0.1" placeholder="75" />
          </div>
          <div>
            <label for="height">Height <span class="muted" id="hUnitLbl">(cm)</span></label>
            <input id="height" type="number" min="120" max="230" step="0.1" placeholder="178" />
          </div>
        </div>

        <div class="row" style="margin-top:6px">
          <div>
            <label for="activity">Activity</label>
            <select id="activity">
              <option value="1.2">Sedentary (little to no exercise)</option>
              <option value="1.375">Light (1–3 days/wk)</option>
              <option value="1.55" selected>Moderate (3–5 days/wk)</option>
              <option value="1.725">Very active (6–7 days/wk)</option>
              <option value="1.9">Extra active (physical job + training)</option>
            </select>
          </div>
        </div>

        <div class="row row-3" style="margin-top:6px">
          <div>
            <label for="goalType">Goal</label>
            <select id="goalType">
              <option value="lose" selected>Lose weight</option>
              <option value="gain">Gain weight</option>
            </select>
          </div>
          <div>
            <label for="rate">Rate (lbs/week)</label>
            <select id="rate">
              <option value="0.5">0.5</option>
              <option value="1.0">1.0</option>
              <option value="1.5">1.5</option>
              <option value="2.0">2.0</option>
              <option value="2.5">2.5</option>
              <option value="3.0">3.0</option>
            </select>
          </div>
          <div>
            <label for="proteinMode">Protein</label>
            <select id="proteinMode">
              <option value="auto" selected>Auto (by goal)</option>
              <option value="custom">Custom (g/kg)</option>
            </select>
          </div>
        </div>

        <div class="row" id="proteinRow" style="margin-top:6px; display:none">
          <div class="range-row">
            <div>
              <label for="proteinGPerKg">Protein (g/kg)</label>
              <input id="proteinGPerKg" type="range" min="1.2" max="2.6" step="0.1" value="2.0"/>
            </div>
            <div class="pill"><span id="proteinGPerKgVal">2.0</span> g/kg</div>
          </div>
          <div class="muted small">Tip: 1.6–2.2 g/kg covers most lifters; slide higher on cuts if you prefer.</div>
        </div>

        <div class="btns" style="margin-top:16px">
          <button class="btn primary" id="calcBtn">Calculate</button>
          <button class="btn secondary" id="resetBtn" title="Reset inputs to defaults">Reset</button>
          <button class="btn secondary" id="saveBtn" title="Save inputs on this device">Save</button>
          <span class="muted small" id="saveNote" aria-live="polite"></span>
        </div>
      </section>

      <!-- OUTPUTS CARD -->
      <section class="card" aria-labelledby="outputsTitle">
        <h2 id="outputsTitle" class="sr-only">Results</h2>

        <div class="kpi" id="kpis">
          <div class="item"><div class="label">BMR</div><div class="value" id="k_bmr">—</div><div class="label">kcal / day</div></div>
          <div class="item"><div class="label">TDEE</div><div class="value" id="k_tdee">—</div><div class="label">kcal / day</div></div>
          <div class="item"><div class="label">Target Calories</div><div class="value" id="k_goal">—</div><div class="label">kcal / day</div></div>
          <div class="item"><div class="label">Protein Target</div><div class="value" id="k_p">—</div><div class="label">grams / day</div></div>
        </div>

        <div class="divider"></div>

        <div class="row row-3">
          <div class="item">
            <label>Protein</label>
            <div class="kpi" style="grid-template-columns:1fr; gap:6px">
              <div class="item"><div class="label">grams</div><div class="value" id="o_p_g">—</div></div>
              <div class="item"><div class="label">kcal</div><div class="value" id="o_p_k">—</div></div>
            </div>
          </div>
          <div class="item">
            <label>Fat</label>
            <div class="kpi" style="grid-template-columns:1fr; gap:6px">
              <div class="item"><div class="label">grams</div><div class="value" id="o_f_g">—</div></div>
              <div class="item"><div class="label">kcal</div><div class="value" id="o_f_k">—</div></div>
            </div>
          </div>
          <div class="item">
            <label>Carbs</label>
            <div class="kpi" style="grid-template-columns:1fr; gap:6px">
              <div class="item"><div class="label">grams</div><div class="value" id="o_c_g">—</div></div>
              <div class="item"><div class="label">kcal</div><div class="value" id="o_c_k">—</div></div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="row row-3">
          <div>
            <label for="meals">Split across meals</label>
            <select id="meals">
              <option value="3">3 meals</option>
              <option value="4" selected>4 meals</option>
              <option value="5">5 meals</option>
              <option value="6">6 meals</option>
            </select>
          </div>
          <div class="right">
            <button class="btn secondary" id="copyBtn" title="Copy macros to clipboard">Copy results</button>
          </div>
        </div>

        <div class="row row-3" style="margin-top:8px">
          <div class="kpi item"><div class="label">Per‑meal Protein</div><div class="value" id="m_p">—</div><div class="label">g</div></div>
          <div class="kpi item"><div class="label">Per‑meal Fat</div><div class="value" id="m_f">—</div><div class="label">g</div></div>
          <div class="kpi item"><div class="label">Per‑meal Carbs</div><div class="value" id="m_c">—</div><div class="label">g</div></div>
        </div>
      </section>
    </div>

    <footer>
      Built with ❤️; no tracking, all calculations on‑device. Share or fork on GitHub Pages.
    </footer>
  </div>
  <script src="app.js"></script>
</body>
</html>
